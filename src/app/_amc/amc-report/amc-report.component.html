<div class="container p-2 mb-5">
    <div class="row">
    <div class="col-12">
        <p class="text-indigo h4 text-center"> AMC Report </p>
            <hr style="width:100%;text-align:left;margin-left:0">
    <div class="row justify-content-center">
    <div class="col-12">
                    <br>
                    <div class="row justify-content-center">
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <label>Institute</label>
                            <ng-multiselect-dropdown [placeholder]="'Select Institutes'" [data]="_institutes"
                                [(ngModel)]="_search_filters.institutes" [settings]="_instituteDropdownSettings"
                                (onSelect)="onSelectInstitute($event)">
                            </ng-multiselect-dropdown>
                        </div>
                        <div class="col-6">
                            <label for="product">ServiceType</label>
                            <select id="product" name="product" [(ngModel)]="_search_filters.serviceType"
                                class="custom-select form-control">
                                <option value="AMC">AMC</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <div class="row justify-content-center">
                            
                            <div class="col-sm-4 col-md-4 col-lg-4">
                                <label for="fromDate" style="margin-bottom: 5px;">Vailid-from Date</label>
                            <div class="input-group">
                                <input class="form-control" (focus)="amcValidFromDateDp.toggleCalendar()"
                                    placeholder="Choose Date" angular-mydatepicker name="amcValidFromDateObject"
                                    [(ngModel)]="_search_filters.amcValidFromDateObject"
                                    (dateChanged)="_search_filters.fromDate = $event.dateRange.beginJsDate;_search_filters.fromDate = $event.dateRange.endJsDate;"
                                    [options]="myDatePickerOptions" #amcValidFromDateDp="angular-mydatepicker" autocomplete="off" />
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i (click)="amcValidFromDateDp.toggleCalendar()" class="fas fa-calendar-alt pointer"></i>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <label for="toDate" style="margin-bottom: 5px;">Vailid-To Date</label>
                     <div class="input-group">
                    <input class="form-control" (focus)="amcValidToDateDp.toggleCalendar()"
                        placeholder="Choose Date" angular-mydatepicker name="amcValidToDateObject"
                        [(ngModel)]="_search_filters.amcValidToDateObject"
                        (dateChanged)="_search_filters.toDate = $event.dateRange.beginJsDate;_search_filters.toDate = $event.dateRange.endJsDate;"
                        [options]="myDatePickerOptions" #amcValidToDateDp="angular-mydatepicker" autocomplete="off" />
                    <div class="input-group-append">
                        <span class="input-group-text">
                            <i (click)="amcValidToDateDp.toggleCalendar()" class="fas fa-calendar-alt pointer"></i>
                        </span>
                    </div>
                </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <label for="paymode">PayMode</label>
                            <!-- <input class="form-control input-lg" type="text" id="paymode" placeHolder="Enter PayMode"
                                name="paymode" [(ngModel)]="paymode" /> -->
                            <select id="paymode" name="paymode" [(ngModel)]="paymode"
                                class="custom-select form-control">
                                <option value="">--select--</option>
                                <option value="Cash">Cash</option>
                                <option value="Cheque">Cheque</option>
                                <option value="Online Payment">Online Payment</option>
                                <option value="Others">Others</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                    <div class="col-sm-4 col-md-4 col-lg-4">
                    <label for="paidFromDate">Paid-From Date</label>
                    <div class="input-group">
                                <input class="form-control" (focus)="amcDateFromDp.toggleCalendar()"
                                    placeholder="Choose Date" angular-mydatepicker name="amcPaidFromDateObject"
                                    [(ngModel)]="_search_filters.amcPaidFromDateObject"
                                    (dateChanged)="_search_filters.paymentFromDate = $event.dateRange.beginJsDate;_search_filters.paymentFromDate = $event.dateRange.endJsDate;"
                                    [options]="myDatePickerOptions" #amcDateFromDp="angular-mydatepicker" autocomplete="off" />
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i (click)="amcDateFromDp.toggleCalendar()" class="fas fa-calendar-alt pointer"></i>
                                    </span>
                                </div>
                    </div>
                    </div>
                     <div class="col-sm-4 col-md-4 col-lg-4">
                            <label for="paidToDate">Paid-To Date</label>

                            <div class="input-group">
                                <input class="form-control" (focus)="amcDateToDp.toggleCalendar()"
                                    placeholder="Choose Date" angular-mydatepicker name="amcPaidToDateObject"
                                    [(ngModel)]="_search_filters.amcPaidToDateObject"
                                    (dateChanged)="_search_filters.paymentToDate = $event.dateRange.beginJsDate;_search_filters.paymentToDate = $event.dateRange.endJsDate;"
                                    [options]="myDatePickerOptions" #amcDateToDp="angular-mydatepicker" autocomplete="off" />
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i (click)="amcDateToDp.toggleCalendar()" class="fas fa-calendar-alt pointer"></i>
                                    </span>
                                </div>
                        </div>
                       
                    </div>
                    </div>
                    <br>
                    <div class="row justify-content-center">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <button class="btn btn-md btn-primary" (click)="report()">
                                Get&nbsp;Report
                            </button>&nbsp;&nbsp;
                            <button class="btn btn-md btn-primary" (click)="clear()">
                                Clear
                            </button>
                        </div>
                    </div>
   
                  
   </div>
    </div>
    <br>
    <div *ngIf="showGrid">
        <div class="row">
            <div class="col">
                <ag-grid-angular [rowData]="rowData" style="width: 150%; height: 400px;" class="ag-theme-balham p-2"
                    [columnDefs]="columnDefs" [rowSelection]="'single'" [paginationAutoPageSize]="true" [pagination]="true"
                    (selectionChanged)="onGridSelectionChanged()" (gridReady)="onGridReady($event)">
                </ag-grid-angular>
            </div>
        </div>
        <button class="btn btn-sm btn-primary" *ngIf="rowData.length > 0" (click)="onBtnExport()">Export <i
            class="fas fa-download"></i></button>
    </div>
    </div>
    </div>
    </div>
